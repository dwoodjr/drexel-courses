<!DOCTYPE html> <html><head>
		<title>GMAP 395 - WK 7 - Tutorial</title>
		<base href="..\../">
		<meta id="root-path" root-path="..\../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="drexel-teaching - GMAP 395 - WK 7 - Tutorial">
		<meta property="og:title" content="GMAP 395 - WK 7 - Tutorial">
		<meta property="og:description" content="drexel-teaching - GMAP 395 - WK 7 - Tutorial">
		<meta property="og:type" content="website">
		<meta property="og:url" content="gmap-395/module-3/gmap-395-wk-7-tutorial.html">
		<meta property="og:image" content="gmap-395\module-3\media\portalbeamvfx.png">
		<meta property="og:site_name" content="drexel-teaching">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="lib/scripts/pixi.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="lib/scripts/minisearch.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon mk-folder-lines mk-inline-context-enabled mk-flow-minimal outliner-plugin-dnd background-settings-workplace-theme-light-in-the-note background-settings-workplace-theme-dark-in-the-sky background-image-settings-markdown-page-transparent notebook-liked-markdown-page-grid-notebook-1 panel-page-bg-theme-light-wall panel-page-bg-theme-dark-plant layout-style-options-default bt-default-unordered-list default-ol-list-marker list-no-border bt-connected-indent-hover bt-colorful-connected-indent-hover folder-icons remove-arrow bt-toggle-colorful-folder folder-style-change-options-colorful-border folder-colorful-six table-width-100 tag-default admonition-bg-color-same style-options-for-admonition-plugin style-options-for-buttons-plugin dataview-list-style-pacman memos-banner-gradient thino-frosted-style thino-background-default quiet-outline-optimize code-theme-bt-default whole-code-wrap iconic-clickable-icons iconic-theme-btopaz"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="GMAP 395 - Week 7 Tutorial"><p dir="auto">GMAP 395 - Week 7 Tutorial</p></h1><div class="el-h1 heading-wrapper"><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="&quot;Anticipation and Release: Timing VFX for Impact&quot;" dir="auto" class="heading" id="&quot;Anticipation_and_Release:_Timing_VFX_for_Impact&quot;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>"Anticipation and Release: Timing VFX for Impact"</h3><div class="heading-children"><div class="el-hr"><hr></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Objective" dir="auto" class="heading" id="Objective"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Objective</h2><div class="heading-children"><div class="el-p"><p dir="auto">This tutorial refines the timing and sequencing of the portal-based visual effects in Unity. Using C# scripting and DOTween, we will:</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">Animate the Portal Ring VFX to pulse before the portal opens.</li>
<li data-line="1" dir="auto">Trigger the Energy Beam VFX after the portal closes.</li>
<li data-line="2" dir="auto">Align these effects with gameplay logic (enhancing game feel).</li>
</ol></div><div class="el-p"><p dir="auto">By the end, students will understand how sequencing and timing-based VFX create stronger player anticipation and response.</p></div><div class="el-p"><p dir="auto"><span alt="portalBeamVFX.png" src="portalBeamVFX.png" class="internal-embed media-embed image-embed is-loaded"><img alt="portalBeamVFX.png" src="gmap-395/module-3/media/portalbeamvfx.png"></span></p></div><div class="el-hr"><hr></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Video Tutorial" dir="auto" class="heading" id="Video_Tutorial"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Video Tutorial</h2><div class="heading-children"><div class="el-p"><p dir="auto"><a data-tooltip-position="top" aria-label="https://1drv.ms/v/s!AqQzGx8l4o2wk_JLePfLQVEQnJr33w?e=dFmT9U" rel="noopener nofollow" class="external-link" href="https://1drv.ms/v/s!AqQzGx8l4o2wk_JLePfLQVEQnJr33w?e=dFmT9U" target="_blank">gmap395_wk7.mp4</a></p></div><div class="el-iframe"><iframe allowfullscreen="" frameborder="0" height="320" width="640" src="https://1drv.ms/v/s!AqQzGx8l4o2wk_JLWQ7rPG-qQIjiMQ?embed=1" sandbox="allow-forms allow-presentation allow-same-origin allow-scripts allow-modals" loading="lazy"></iframe></div><div class="el-hr"><hr></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Prerequisites" dir="auto" class="heading" id="Prerequisites"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Prerequisites</h2><div class="heading-children"><div class="el-p"><p dir="auto">✅ Unity 2022.3 with URP and VFX Graph Installed<br>
✅ Completion of Week 5’s "Game-Based Real-Time Shader Control w/ DOTween"<br>
✅ Completion of Week 6’s "Enhancing the Eldritch Portal with VFX"<br>
✅ Basic understanding of C# scripting, DOTween, and Unity Events</p></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="example" class="callout drop-shadow"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></div><div class="callout-title-inner">Unity VFX Scripting API</div></div><div class="callout-content">
<p dir="auto">The scripts from todays class will be using Unity's <a data-tooltip-position="top" aria-label="https://docs.unity3d.com/6000.0/Documentation/ScriptReference/VFX.VisualEffect.html" rel="noopener nofollow" class="external-link" href="https://docs.unity3d.com/6000.0/Documentation/ScriptReference/VFX.VisualEffect.html" target="_blank">VFX Scripting API</a> for VFX graph. Particle System has a separate API.</p>
</div></div></div><div class="el-hr"><hr></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Game Feel &amp; Design Intent" dir="auto" class="heading" id="Game_Feel_&amp;_Design_Intent"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Game Feel &amp; Design Intent</h2><div class="heading-children"><div class="el-blockquote"><blockquote dir="auto">
<p>VFX are not just visuals—they are part of gameplay feedback.<br>
Players subconsciously react to anticipation and payoff sequences before major in-game events.</p>
</blockquote></div><div class="el-p"><p dir="auto">In this case:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">The portal doesn’t just "pop open," it builds anticipation with a pulsing particle ring.</li>
<li data-line="1" dir="auto">After the portal closes, the energy beam fires, creating a dramatic "release" effect.</li>
<li data-line="2" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Why?
<ul>
<li data-line="3" dir="auto">Anticipation (Ring) = Builds tension before the event.</li>
<li data-line="4" dir="auto">Payoff (Beam) = Reinforces impact and finality after the event.</li>
</ul>
</li>
</ul></div><div class="el-p"><p dir="auto">This creates a stronger connection between VFX, game feel, and gameplay metaphor/mechanics.</p></div><div class="el-hr"><hr></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Part 1: Creating the Porta Effect Controller" dir="auto" class="heading" id="Part_1:_Creating_the_Porta_Effect_Controller">Part 1: Creating the Porta Effect Controller</h1><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="Overview" dir="auto" class="heading" id="Overview"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Overview</h3><div class="heading-children"><div class="el-p"><p dir="auto">In this section, we will create the <code>PortalEffectsController</code> from scratch.<br>
This script will control the portal ring effect, animating its exposed VFX properties from Week 6 using DOTween.</p></div><div class="el-p"><p dir="auto">The Portal Ring Effect serves as an anticipatory visual cue before the portal opens.<br>
By animating its properties over time, we create a build-up sequence that enhances game feel.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Step 1: Review Exposed Properties from Week 6" dir="auto" class="heading" id="Step_1:_Review_Exposed_Properties_from_Week_6"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Step 1: Review Exposed Properties from Week 6</h2><div class="heading-children"><div class="el-p"><p dir="auto">In Week 6, we created a portal ring effect using Unity's VFX Graph.<br>
The following exposed properties were created in the VFX Graph Blackboard:</p></div><div class="el-table" dir="ltr" style="overflow-x: auto;"><table>
<thead>
<tr>
<th dir="ltr">Property Name</th>
<th dir="ltr">Type</th>
<th dir="ltr">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td dir="ltr"><code>PortalRingRadius</code></td>
<td dir="ltr">Float</td>
<td dir="ltr">Controls the size of the ring</td>
</tr>
<tr>
<td dir="ltr"><code>PortalRotationSpeed</code></td>
<td dir="ltr">Float</td>
<td dir="ltr">Controls the rotation and intensity</td>
</tr>
<tr>
<td dir="ltr"><code>PortalRingColor</code></td>
<td dir="ltr">Float</td>
<td dir="ltr">Controls the color of the effect</td>
</tr>
</tbody>
</table></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout drop-shadow"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-pencil"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"></path><path d="m15 5 4 4"></path></svg></div><div class="callout-title-inner">Animated Parameter</div></div><div class="callout-content">
<p dir="auto">We will primarily focus on animating the <em>Radius</em> parameter with DOTween, but the same steps and principle apply for animating other properties.</p>
</div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Step 2: Create the PortalEffectsController Script" dir="auto" class="heading" id="Step_2:_Create_the_PortalEffectsController_Script"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Step 2: Create the PortalEffectsController Script</h2><div class="heading-children"><div class="el-p"><p dir="auto">Now, let's create the PortalEffectsController script to control the Portal Ring Effect.</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="1. Create the Script" dir="auto" class="heading" id="1._Create_the_Script"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1. Create the Script</h3><div class="heading-children"><div class="el-ol"><ol>
<li data-line="0" dir="auto">In Unity, go to the Project Window.</li>
<li data-line="1" dir="auto">Navigate to the Scripts folder (or create one if needed).</li>
<li data-line="2" dir="auto">Right-click &gt; Create &gt; C# Script and name it PortalEffectsController.</li>
<li data-line="3" dir="auto">Open the script in Visual Studio or VS Code.</li>
</ol></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2. Write the PortalEffectsController Script" dir="auto" class="heading" id="2._Write_the_PortalEffectsController_Script"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2. Write the PortalEffectsController Script</h3><div class="heading-children"><div class="el-p"><p dir="auto">Replace the default code with the following:</p></div><div class="el-pre"><pre class="language-csharp"><code data-line="0" class="language-csharp is-loaded"><span class="token keyword">using</span> <span class="token namespace">UnityEngine</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">UnityEngine<span class="token punctuation">.</span>VFX</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">DG<span class="token punctuation">.</span>Tweening</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PortalEffectsController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Reference to the VFX Graph for the ring effect (assign in the Inspector)</span>
    <span class="token punctuation">[</span>SerializeField<span class="token punctuation">]</span> <span class="token keyword">private</span> <span class="token class-name">VisualEffect</span> portalVFX<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span></span>
    <span class="token doc-comment comment">/// Plays the portal ring burst effect.</span>
    <span class="token doc-comment comment">/// Animates PortalRingRadius from 1.0 -&gt; 1.35 -&gt; 0.0, then stops the VFX.</span>
    <span class="token doc-comment comment">/// &lt;/summary</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerator</span> <span class="token function">PlayPortalEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>portalVFX <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Debug<span class="token punctuation">.</span><span class="token function">LogError</span><span class="token punctuation">(</span><span class="token string">"Portal VFX reference not set!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">yield</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Set the starting value.</span>
        portalVFX<span class="token punctuation">.</span><span class="token function">SetFloat</span><span class="token punctuation">(</span><span class="token string">"PortalRingRadius"</span><span class="token punctuation">,</span> <span class="token number">1.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Create a DOTween sequence to animate the ring.</span>
        <span class="token class-name">Sequence</span> ringSequence <span class="token operator">=</span> DOTween<span class="token punctuation">.</span><span class="token function">Sequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ringSequence<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>
            DOTween<span class="token punctuation">.</span><span class="token function">To</span><span class="token punctuation">(</span>
                <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> portalVFX<span class="token punctuation">.</span><span class="token function">GetFloat</span><span class="token punctuation">(</span><span class="token string">"PortalRingRadius"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                x <span class="token operator">=&gt;</span> portalVFX<span class="token punctuation">.</span><span class="token function">SetFloat</span><span class="token punctuation">(</span><span class="token string">"PortalRingRadius"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token number">1.35f</span><span class="token punctuation">,</span>
                <span class="token number">1f</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        ringSequence<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>
            DOTween<span class="token punctuation">.</span><span class="token function">To</span><span class="token punctuation">(</span>
                <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> portalVFX<span class="token punctuation">.</span><span class="token function">GetFloat</span><span class="token punctuation">(</span><span class="token string">"PortalRingRadius"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                x <span class="token operator">=&gt;</span> portalVFX<span class="token punctuation">.</span><span class="token function">SetFloat</span><span class="token punctuation">(</span><span class="token string">"PortalRingRadius"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token number">0.0f</span><span class="token punctuation">,</span>
                <span class="token number">1f</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// When complete, stop the VFX.</span>
        ringSequence<span class="token punctuation">.</span><span class="token function">OnComplete</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> portalVFX<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Wait until the sequence is finished.</span>
        <span class="token keyword">yield</span> <span class="token keyword">return</span> ringSequence<span class="token punctuation">.</span><span class="token function">WaitForCompletion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span></span>
    <span class="token doc-comment comment">/// Restarts the portal ring effect (e.g. after the sequence finishes).</span>
    <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span></span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">RestartRingEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>portalVFX <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Reset initial values required for the portal ring effect.</span>
            portalVFX<span class="token punctuation">.</span><span class="token function">SetFloat</span><span class="token punctuation">(</span><span class="token string">"PortalRingRadius"</span><span class="token punctuation">,</span> <span class="token number">1.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Restart the VFX.</span>
            portalVFX<span class="token punctuation">.</span><span class="token function">Play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Step 3: Assign the Script in Unity" dir="auto" class="heading" id="Step_3:_Assign_the_Script_in_Unity"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Step 3: Assign the Script in Unity</h2><div class="heading-children"><div class="el-ol"><ol>
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Attach the Script to a GameObject
<ul>
<li data-line="1" dir="auto">In Unity, create an empty GameObject in the Hierarchy.</li>
<li data-line="2" dir="auto">Rename it "VFX Controller".</li>
<li data-line="3" dir="auto">Drag and attach the PortalEffectsController.cs script to this GameObject.</li>
</ul>
</li>
<li data-line="4" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Assign the VFX Graph
<ul>
<li data-line="5" dir="auto">Select the GameObject.</li>
<li data-line="6" dir="auto">In the Inspector, locate the Portal VFX field.</li>
<li data-line="7" dir="auto">Drag the Portal Ring VFX Graph from the Hierarchy into this field.</li>
</ul>
</li>
</ol></div><div class="el-hr"><hr></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Part 2: Implementing the PortalBeamEffect" dir="auto" class="heading" id="Part_2:_Implementing_the_PortalBeamEffect">Part 2: Implementing the PortalBeamEffect</h1><div class="heading-children"><div class="el-h2 heading-wrapper"><h2 data-heading="Overview" dir="auto" class="heading" id="Overview"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Overview</h2><div class="heading-children"><div class="el-p"><p dir="auto">In this section, we will implement the <code>PortalBeamEffect</code> script using the provided code.<br>
This script controls the portal beam effect, which fires after the portal closes as a visual payoff for the event.</p></div><div class="el-p"><p dir="auto">The Beam Effect enhances game feel, reinforcing the impact of the portal cycle completion.<br>
By properly sequencing this after the portal closes, we strengthen player response and timing in gameplay.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Step 1: Understanding the PortalBeamEffect Script" dir="auto" class="heading" id="Step_1:_Understanding_the_PortalBeamEffect_Script"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Step 1: Understanding the PortalBeamEffect Script</h2><div class="heading-children"><div class="el-p"><p dir="auto">The PortalBeamEffect script is set up to start and stop the Energy Beam Effect.</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="Code Breakdown:" dir="auto" class="heading" id="Code_Breakdown:"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Code Breakdown:</h3><div class="heading-children"><div class="el-pre"><pre class="language-csharp"><code data-line="0" class="language-csharp is-loaded"><span class="token keyword">using</span> <span class="token namespace">UnityEngine</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">UnityEngine<span class="token punctuation">.</span>VFX</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PortalBeamEffect</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Reference to the beam VFX Graph (assign in the Inspector)</span>
    <span class="token keyword">public</span> <span class="token class-name">VisualEffect</span> beamVFX<span class="token punctuation">;</span>
    <span class="token comment">// Duration for which the beam effect remains active.</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> beamDuration <span class="token operator">=</span> <span class="token number">2.0f</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Ensure the beam doesn't play automatically on scene start.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>beamVFX <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            beamVFX<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span></span>
    <span class="token doc-comment comment">/// Plays the beam effect by starting the VFX, waits for the duration, then stops it.</span>
    <span class="token doc-comment comment">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span></span>
    <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerator</span> <span class="token function">PlayBeamEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>beamVFX <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Debug<span class="token punctuation">.</span><span class="token function">LogError</span><span class="token punctuation">(</span><span class="token string">"Beam VFX reference not set!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">yield</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        beamVFX<span class="token punctuation">.</span><span class="token function">Play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">WaitForSeconds</span><span class="token punctuation">(</span>beamDuration<span class="token punctuation">)</span><span class="token punctuation">;</span>
        beamVFX<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-h4 heading-wrapper"><h4 data-heading="Key Features of This Script:" dir="auto" class="heading" id="Key_Features_of_This_Script:"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Key Features of This Script:</h4><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">References the Beam VFX Graph (must be assigned in Unity).</li>
<li data-line="1" dir="auto">Ensures the beam does NOT play automatically on scene start.</li>
<li data-line="2" dir="auto">Provides a coroutine to play the beam, wait, then stop it.</li>
</ul></div></div></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Step 2: Assign the Script in Unity" dir="auto" class="heading" id="Step_2:_Assign_the_Script_in_Unity"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Step 2: Assign the Script in Unity</h2><div class="heading-children"><div class="el-ol"><ol start="3">
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Attach the Script to a GameObject
<ul>
<li data-line="1" dir="auto">In Unity, in the Hierarchy, locate the GameObject from Part 1.</li>
<li data-line="2" dir="auto">Drag and attach the PortalBeamEffect.cs script to this GameObject.</li>
</ul>
</li>
<li data-line="3" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Assign the VFX Graph
<ul>
<li data-line="4" dir="auto">Select the GameObject.</li>
<li data-line="5" dir="auto">In the Inspector, locate the Beam VFX field.</li>
<li data-line="6" dir="auto">Drag the Energy Beam VFX Graph from the Hierarchy into this field.</li>
</ul>
</li>
</ol></div><div class="el-hr"><hr></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Part 3: Recreating the EnemySpawner" dir="auto" class="heading" id="Part_3:_Recreating_the_EnemySpawner">Part 3: Recreating the EnemySpawner</h1><div class="heading-children"><div class="el-h2 heading-wrapper"><h2 data-heading="Overview" dir="auto" class="heading" id="Overview"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Overview</h2><div class="heading-children"><div class="el-p"><p dir="auto">In this section, we will recreate the EnemySpawner script from its original version to match the intended tutorial sequence design.  Additionally, we will review and verify the PortalShaderController to ensure it functions correctly within this sequence.</p></div><div class="el-p"><p dir="auto">The EnemySpawner is responsible for orchestrating the VFX timing, enemy spawning logic, and game feel elements. <em>An argument could be made that the sequencing should be a separate script from enemy spawning logic, but I wanted to keep it a bit simpler for now.</em></p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Step 1: Reviewing the PortalShaderController" dir="auto" class="heading" id="Step_1:_Reviewing_the_PortalShaderController"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Step 1: Reviewing the PortalShaderController</h2><div class="heading-children"><div class="el-p"><p dir="auto">Before we proceed with EnemySpawner, we need to verify that PortalShaderController is correct for the tutorial.</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="Reviewing the Provided PortalShaderController.cs" dir="auto" class="heading" id="Reviewing_the_Provided_PortalShaderController.cs"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Reviewing the Provided PortalShaderController.cs</h3><div class="heading-children"><div class="el-pre"><pre class="language-csharp"><code data-line="0" class="language-csharp is-loaded"><span class="token keyword">using</span> <span class="token namespace">UnityEngine</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">DG<span class="token punctuation">.</span>Tweening</span><span class="token punctuation">;</span> <span class="token comment">// Import DOTween</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PortalShaderController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Material</span> portalMaterial<span class="token punctuation">;</span>  <span class="token comment">// Assign the material in the Inspector</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">int</span></span> EdgeWidthProperty <span class="token operator">=</span> Shader<span class="token punctuation">.</span><span class="token function">PropertyToID</span><span class="token punctuation">(</span><span class="token string">"_EdgeWidth"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> normalWidth <span class="token operator">=</span> <span class="token number">0.2f</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> alertWidth <span class="token operator">=</span> <span class="token number">0.6f</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> transitionDuration <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span> <span class="token comment">// How long the animation takes</span>

    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>portalMaterial <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Debug<span class="token punctuation">.</span><span class="token function">LogError</span><span class="token punctuation">(</span><span class="token string">"Portal material not assigned!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Ensure EdgeWidth starts at normal width</span>
        portalMaterial<span class="token punctuation">.</span><span class="token function">SetFloat</span><span class="token punctuation">(</span>EdgeWidthProperty<span class="token punctuation">,</span> normalWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Triggered when an enemy is about to spawn</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ActivateAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">"Portal activating."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// DOTween smoothly changes EdgeWidth over time</span>
        portalMaterial<span class="token punctuation">.</span><span class="token function">DOFloat</span><span class="token punctuation">(</span>alertWidth<span class="token punctuation">,</span> EdgeWidthProperty<span class="token punctuation">,</span> transitionDuration<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">SetEase</span><span class="token punctuation">(</span>Ease<span class="token punctuation">.</span>InOutQuad<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Reset the effect after a delay</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">DeactivateAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">"Portal deactivating."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// DOTween smoothly returns EdgeWidth to normal</span>
        portalMaterial<span class="token punctuation">.</span><span class="token function">DOFloat</span><span class="token punctuation">(</span>normalWidth<span class="token punctuation">,</span> EdgeWidthProperty<span class="token punctuation">,</span> transitionDuration<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">SetEase</span><span class="token punctuation">(</span>Ease<span class="token punctuation">.</span>InOutQuad<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Confirmations:" dir="auto" class="heading" id="Confirmations:"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Confirmations:</h3><div class="heading-children"><div class="el-p"><p dir="auto">✔️ Uses DOTween to animate the shader property <code>_EdgeWidth</code>, expanding when activated and resetting when closed.<br>
✔️ The <code>ActivateAlert()</code> function properly transitions the effect when the portal is "opening."<br>
✔️ The <code>DeactivateAlert()</code> function ensures it returns to normal after closing.<br>
✔️ The <code>transitionDuration</code> parameter can be adjusted to fine-tune timing.</p></div><div class="el-p"><p dir="auto">No modifications should be needed. The PortalShaderController functions correctly for the purposes of our tutorial. It is jus a good habit to check code you will be referencing/interacting with in the editor.</p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Step 2: Recreating the EnemySpawner Script" dir="auto" class="heading" id="Step_2:_Recreating_the_EnemySpawner_Script"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Step 2: Recreating the EnemySpawner Script</h2><div class="heading-children"><div class="el-p"><p dir="auto">Now, we will REBUILD the EnemySpawner script from its original version, incorporating the full game feel sequence.</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="1. Create the EnemySpawner Script" dir="auto" class="heading" id="1._Create_the_EnemySpawner_Script"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1. Create the EnemySpawner Script</h3><div class="heading-children"><div class="el-ol"><ol start="5">
<li data-line="0" dir="auto">In Unity, go to the Project Window.</li>
<li data-line="1" dir="auto">Navigate to the Scripts folder (or create one if needed).</li>
<li data-line="2" dir="auto">Right-click &gt; Create &gt; C# Script and name it EnemySpawner (or open the original script if you have one).</li>
<li data-line="3" dir="auto">Open the script in your IDE.</li>
</ol></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2. Write the Recreated EnemySpawner Script" dir="auto" class="heading" id="2._Write_the_Recreated_EnemySpawner_Script"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2. Write the Recreated EnemySpawner Script</h3><div class="heading-children"><div class="el-p"><p dir="auto">Replace the code with the following:</p></div><div class="el-pre"><pre class="language-csharp"><code data-line="0" class="language-csharp is-loaded"><span class="token keyword">using</span> <span class="token namespace">UnityEngine</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">DG<span class="token punctuation">.</span>Tweening</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnemySpawner</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Header</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Portal Settings"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token class-name">PortalEffectsController</span> portalEffects<span class="token punctuation">;</span> <span class="token comment">// Controls the ring effect</span>
    <span class="token keyword">public</span> <span class="token class-name">PortalShaderController</span> portalShader<span class="token punctuation">;</span>   <span class="token comment">// Controls the shader opening/closing</span>
    <span class="token keyword">public</span> <span class="token class-name">PortalBeamEffect</span> portalBeamEffect<span class="token punctuation">;</span>     <span class="token comment">// Controls the beam effect</span>

    <span class="token punctuation">[</span><span class="token function">Tooltip</span><span class="token punctuation">(</span><span class="token string">"Delay after shader opens before spawning the enemy."</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> enemyInstantiationDelay <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span> 

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Tooltip</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Delay after beam effect stops before restarting the portal ring effect."</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> ringRestartDelay <span class="token operator">=</span> <span class="token number">0.5f</span><span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Header</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Enemy Settings"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token class-name">GameObject</span> enemyPrefab<span class="token punctuation">;</span>         <span class="token comment">// Enemy prefab to spawn</span>
    <span class="token keyword">public</span> <span class="token class-name">Transform</span> releasePoint<span class="token punctuation">;</span>         <span class="token comment">// Target position on the ground</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> dropDuration <span class="token operator">=</span> <span class="token number">3f</span><span class="token punctuation">;</span>        <span class="token comment">// Duration of the enemy falling</span>

    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// For testing: trigger the full sequence with the Space key.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">GetKeyDown</span><span class="token punctuation">(</span>KeyCode<span class="token punctuation">.</span>Space<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">StartCoroutine</span><span class="token punctuation">(</span><span class="token function">TriggerFullSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token return-type class-name">IEnumerator</span> <span class="token function">TriggerFullSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">"Starting enemy spawn sequence..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// --- STEP 1: Portal Ring Effect (Anticipation) ---</span>
        <span class="token keyword">yield</span> <span class="token keyword">return</span> portalEffects<span class="token punctuation">.</span><span class="token function">PlayPortalEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// --- STEP 2: Portal Shader Opens (Portal Begins to Activate) ---</span>
        portalShader<span class="token punctuation">.</span><span class="token function">ActivateAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">WaitForSeconds</span><span class="token punctuation">(</span>portalShader<span class="token punctuation">.</span>transitionDuration<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// --- STEP 3: Enemy Spawning (Gameplay Event) ---</span>
        <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">WaitForSeconds</span><span class="token punctuation">(</span>enemyInstantiationDelay<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">GameObject</span> enemyInstance <span class="token operator">=</span> <span class="token function">Instantiate</span><span class="token punctuation">(</span>enemyPrefab<span class="token punctuation">,</span> transform<span class="token punctuation">.</span>position<span class="token punctuation">,</span> Quaternion<span class="token punctuation">.</span>identity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        enemyInstance<span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">DOMove</span><span class="token punctuation">(</span>releasePoint<span class="token punctuation">.</span>position<span class="token punctuation">,</span> dropDuration<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">SetEase</span><span class="token punctuation">(</span>Ease<span class="token punctuation">.</span>Linear<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">OnComplete</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// Unparent the enemy so it moves freely in the scene</span>
                enemyInstance<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">WaitForSeconds</span><span class="token punctuation">(</span>dropDuration<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// --- STEP 4: Portal Shader Closes (Portal Powers Down) ---</span>
        portalShader<span class="token punctuation">.</span><span class="token function">DeactivateAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">WaitForSeconds</span><span class="token punctuation">(</span>portalShader<span class="token punctuation">.</span>transitionDuration<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// --- STEP 5: Portal Beam Effect (Powerful Release) ---</span>
        <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token function">StartCoroutine</span><span class="token punctuation">(</span>portalBeamEffect<span class="token punctuation">.</span><span class="token function">PlayBeamEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// --- STEP 6: Restart Portal Ring Effect (Loop Back to Idle State) ---</span>
        <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">WaitForSeconds</span><span class="token punctuation">(</span>ringRestartDelay<span class="token punctuation">)</span><span class="token punctuation">;</span>
        portalEffects<span class="token punctuation">.</span><span class="token function">RestartRingEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">"Enemy spawn sequence complete."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Step 3: Explanation of the Sequence Timing" dir="auto" class="heading" id="Step_3:_Explanation_of_the_Sequence_Timing"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Step 3: Explanation of the Sequence Timing</h2><div class="heading-children"><div class="el-p"><p dir="auto">The updated script ensures proper sequencing and game feel through timing considerations:</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="Game Feel Enhancements" dir="auto" class="heading" id="Game_Feel_Enhancements"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Game Feel Enhancements</h3><div class="heading-children"><div class="el-table" dir="ltr" style="overflow-x: auto;"><table>
<thead>
<tr>
<th dir="ltr">Step</th>
<th dir="ltr">Purpose</th>
<th dir="ltr">Game Feel Contribution</th>
</tr>
</thead>
<tbody>
<tr>
<td dir="ltr">Portal Ring Burst</td>
<td dir="ltr">Builds anticipation</td>
<td dir="ltr">Player sees a pre-cue before the portal activates</td>
</tr>
<tr>
<td dir="ltr">Portal Shader Opens</td>
<td dir="ltr">Signals the enemy is about to appear</td>
<td dir="ltr">Establishes expectation and tension</td>
</tr>
<tr>
<td dir="ltr">Enemy Spawn &amp; Drop</td>
<td dir="ltr">Core gameplay event</td>
<td dir="ltr">Visual reinforcement of the game action</td>
</tr>
<tr>
<td dir="ltr">Portal Shader Closes</td>
<td dir="ltr">Closes the portal to show completion</td>
<td dir="ltr">Confirms event has concluded</td>
</tr>
<tr>
<td dir="ltr">Portal Beam Fires</td>
<td dir="ltr">Creates a dramatic payoff</td>
<td dir="ltr">Reinforces weight and finality of the event</td>
</tr>
<tr>
<td dir="ltr">Portal Ring Restarts</td>
<td dir="ltr">Resets for next activation</td>
<td dir="ltr">Ensures seamless looping behavior</td>
</tr>
</tbody>
</table></div><div class="el-p"><p dir="auto">✅ Now, the entire sequence works as a fully structured event.</p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Step 4: Testing the Full Sequence in Play Mode" dir="auto" class="heading" id="Step_4:_Testing_the_Full_Sequence_in_Play_Mode"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Step 4: Testing the Full Sequence in Play Mode</h2><div class="heading-children"><div class="el-ol"><ol start="9">
<li data-line="0" dir="auto">Click Play in Unity.</li>
<li data-line="1" dir="auto">Press Space to trigger the full sequence.</li>
<li data-line="2" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Observe the correct ordering of effects:
<ul>
<li data-line="3" dir="auto">Portal Ring pulses</li>
<li data-line="4" dir="auto">Portal Shader expands</li>
<li data-line="5" dir="auto">Enemy spawns</li>
<li data-line="6" dir="auto">Portal Shader closes</li>
<li data-line="7" dir="auto">Energy Beam fires</li>
<li data-line="8" dir="auto">Portal Ring resets</li>
</ul>
</li>
<li data-line="9" dir="auto">Adjust timing variables in the Inspector to fine-tune the pacing.</li>
</ol></div><div class="el-hr"><hr></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Final Steps:" dir="auto" class="heading" id="Final_Steps:"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Final Steps:</h2><div class="heading-children"><div class="el-p"><p dir="auto">The tutorial is now complete! 🎉<br>
The full portal cycle now functions as an engaging game-based metaphor!</p></div><div class="el-hr"><hr></div><div class="el-hr"><hr></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="info" class="callout drop-shadow"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-info"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></div><div class="callout-title-inner"> <a data-tooltip-position="top" aria-label="GMAP 395 - Module 3" data-href="GMAP 395 - Module 3" href="gmap-395/module-3/gmap-395-module-3.html" class="internal-link" target="_self" rel="noopener nofollow">Return to the Module Page</a></div></div></div></div><div class="mod-footer mod-ui"></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button is-collapsed" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#GMAP 395 - Week 7 Tutorial"><div class="tree-item-contents heading-link" heading-name="GMAP 395 - Week 7 Tutorial"><span class="tree-item-title">GMAP 395 - Week 7 Tutorial</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#&quot;Anticipation_and_Release:_Timing_VFX_for_Impact&quot;"><div class="tree-item-contents heading-link" heading-name="&quot;Anticipation and Release: Timing VFX for Impact&quot;"><span class="tree-item-title">"Anticipation and Release: Timing VFX for Impact"</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Objective"><div class="tree-item-contents heading-link" heading-name="Objective"><span class="tree-item-title">Objective</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Video_Tutorial"><div class="tree-item-contents heading-link" heading-name="Video Tutorial"><span class="tree-item-title">Video Tutorial</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Prerequisites"><div class="tree-item-contents heading-link" heading-name="Prerequisites"><span class="tree-item-title">Prerequisites</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Game_Feel_&amp;_Design_Intent"><div class="tree-item-contents heading-link" heading-name="Game Feel &amp; Design Intent"><span class="tree-item-title">Game Feel &amp; Design Intent</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Part_1:_Creating_the_Porta_Effect_Controller"><div class="tree-item-contents heading-link" heading-name="Part 1: Creating the Porta Effect Controller"><span class="tree-item-title">Part 1: Creating the Porta Effect Controller</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Overview"><div class="tree-item-contents heading-link" heading-name="Overview"><span class="tree-item-title">Overview</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Step_1:_Review_Exposed_Properties_from_Week_6"><div class="tree-item-contents heading-link" heading-name="Step 1: Review Exposed Properties from Week 6"><span class="tree-item-title">Step 1: Review Exposed Properties from Week 6</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible is-collapsed" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Step_2:_Create_the_PortalEffectsController_Script"><div class="tree-item-contents heading-link" heading-name="Step 2: Create the PortalEffectsController Script"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Step 2: Create the PortalEffectsController Script</span></div></a><div class="tree-item-children nav-folder-children" style="display: none;"><div class="tree-item" data-depth="3"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#1._Create_the_Script"><div class="tree-item-contents heading-link" heading-name="1. Create the Script"><span class="tree-item-title">1. 
Create the Script
</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#2._Write_the_PortalEffectsController_Script"><div class="tree-item-contents heading-link" heading-name="2. Write the PortalEffectsController Script"><span class="tree-item-title">2. 
Write the PortalEffectsController Script
</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Step_3:_Assign_the_Script_in_Unity"><div class="tree-item-contents heading-link" heading-name="Step 3: Assign the Script in Unity"><span class="tree-item-title">Step 3: Assign the Script in Unity</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Part_2:_Implementing_the_PortalBeamEffect"><div class="tree-item-contents heading-link" heading-name="Part 2: Implementing the PortalBeamEffect"><span class="tree-item-title">Part 2: Implementing the PortalBeamEffect</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Overview"><div class="tree-item-contents heading-link" heading-name="Overview"><span class="tree-item-title">Overview</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible is-collapsed" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Step_1:_Understanding_the_PortalBeamEffect_Script"><div class="tree-item-contents heading-link" heading-name="Step 1: Understanding the PortalBeamEffect Script"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Step 1: Understanding the PortalBeamEffect Script</span></div></a><div class="tree-item-children nav-folder-children" style="display: none;"><div class="tree-item mod-collapsible is-collapsed" data-depth="3"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Code_Breakdown:"><div class="tree-item-contents heading-link" heading-name="Code Breakdown:"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Code Breakdown:</span></div></a><div class="tree-item-children nav-folder-children" style="display: none;"><div class="tree-item" data-depth="4"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Key_Features_of_This_Script:"><div class="tree-item-contents heading-link" heading-name="Key Features of This Script:"><span class="tree-item-title">Key Features of This Script:</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Step_2:_Assign_the_Script_in_Unity"><div class="tree-item-contents heading-link" heading-name="Step 2: Assign the Script in Unity"><span class="tree-item-title">Step 2: Assign the Script in Unity</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Part_3:_Recreating_the_EnemySpawner"><div class="tree-item-contents heading-link" heading-name="Part 3: Recreating the EnemySpawner"><span class="tree-item-title">Part 3: Recreating the EnemySpawner</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Overview"><div class="tree-item-contents heading-link" heading-name="Overview"><span class="tree-item-title">Overview</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible is-collapsed" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Step_1:_Reviewing_the_PortalShaderController"><div class="tree-item-contents heading-link" heading-name="Step 1: Reviewing the PortalShaderController"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Step 1: Reviewing the PortalShaderController</span></div></a><div class="tree-item-children nav-folder-children" style="display: none;"><div class="tree-item" data-depth="3"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Reviewing_the_Provided_PortalShaderController.cs"><div class="tree-item-contents heading-link" heading-name="Reviewing the Provided PortalShaderController.cs"><span class="tree-item-title">Reviewing the Provided PortalShaderController.cs</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Confirmations:"><div class="tree-item-contents heading-link" heading-name="Confirmations:"><span class="tree-item-title">Confirmations:</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible is-collapsed" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Step_2:_Recreating_the_EnemySpawner_Script"><div class="tree-item-contents heading-link" heading-name="Step 2: Recreating the EnemySpawner Script"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Step 2: Recreating the EnemySpawner Script</span></div></a><div class="tree-item-children nav-folder-children" style="display: none;"><div class="tree-item" data-depth="3"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#1._Create_the_EnemySpawner_Script"><div class="tree-item-contents heading-link" heading-name="1. Create the EnemySpawner Script"><span class="tree-item-title">1. 
Create the EnemySpawner Script
</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#2._Write_the_Recreated_EnemySpawner_Script"><div class="tree-item-contents heading-link" heading-name="2. Write the Recreated EnemySpawner Script"><span class="tree-item-title">2. 
Write the Recreated EnemySpawner Script
</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible is-collapsed" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Step_3:_Explanation_of_the_Sequence_Timing"><div class="tree-item-contents heading-link" heading-name="Step 3: Explanation of the Sequence Timing"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Step 3: Explanation of the Sequence Timing</span></div></a><div class="tree-item-children nav-folder-children" style="display: none;"><div class="tree-item" data-depth="3"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Game_Feel_Enhancements"><div class="tree-item-contents heading-link" heading-name="Game Feel Enhancements"><span class="tree-item-title">Game Feel Enhancements</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Step_4:_Testing_the_Full_Sequence_in_Play_Mode"><div class="tree-item-contents heading-link" heading-name="Step 4: Testing the Full Sequence in Play Mode"><span class="tree-item-title">Step 4: Testing the Full Sequence in Play Mode</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="gmap-395\module-3\gmap-395-wk-7-tutorial.html#Final_Steps:"><div class="tree-item-contents heading-link" heading-name="Final Steps:"><span class="tree-item-title">Final Steps:</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>